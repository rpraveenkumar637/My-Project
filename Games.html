<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Games</title>
  <style>
    :root {
      --bg: #fff;
      --fg: #004aad;
      --card-bg: #f0f4ff;
    }
    [data-theme="dark"] {
      --bg: #121212;
      --fg: #66aaff;
      --card-bg: #1e1e1e;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0; padding: 0;
      background: var(--bg);
      color: var(--fg);
      font-family: Arial, sans-serif;
      transition: background .3s, color .3s;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem;
      background: var(--card-bg);
      box-shadow: 0 2px 4px rgba(0,0,0,.1);
    }
    main {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px,1fr));
      gap: 1rem;
      padding: 1rem;
    }
    .game-card {
      background: var(--card-bg);
      border-radius: 8px;
      padding: 1rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      box-shadow: 0 2px 6px rgba(0,0,0,.1);
    }
    .game-card h2 { margin-top: 0; }
    button { margin: .5rem; }
    canvas, .memory-board, .quiz-card,
    .tictactoe-grid, .rps-buttons,
    #guessInput {
      margin: .5rem 0;
      max-width: 100%;
    }

    /* Memory Match */
    .memory-board div {
      width: 50px; height: 50px;
      border: 1px solid var(--fg);
      display: inline-flex;
      justify-content: center;
      align-items: center;
      font-size: 24px;
      margin: 4px;
      background: var(--bg);
      cursor: pointer;
    }

    /* Tic-Tac-Toe */
    .tictactoe-grid {
      display: grid;
      grid-template-columns: repeat(3,1fr);
      gap: 4px;
    }
    .tictactoe-cell {
      width: 60px; height: 60px;
      display: flex; justify-content: center; align-items: center;
      font-size: 2rem;
      background: var(--bg);
      border: 2px solid var(--fg);
      cursor: pointer;
    }

    /* Rock-Paper-Scissors */
    .rps-buttons button {
      width: 60px; height: 60px;
      margin: 0 .25rem;
      font-size: 1.2rem;
      border: 2px solid var(--fg);
      background: var(--bg);
      color: var(--fg);
      border-radius: 8px;
      cursor: pointer;
    }

    /* On-screen arrow controls */
    .controls {
      display: none;
      position: fixed;
      bottom: 1rem; left: 50%;
      transform: translateX(-50%);
      background: rgba(255,255,255,.8);
      border-radius: 8px; padding: .5rem;
      box-shadow: 0 2px 6px rgba(0,0,0,.2);
      z-index: 100;
    }
    .controls button {
      width: 48px; height: 48px;
      margin: .25rem;
      border: 2px solid var(--fg);
      background: var(--card-bg);
      color: var(--fg);
      border-radius: 4px;
      font-size: 1.2rem;
    }
    @media(max-width:600px) {
      .controls { display: flex; }
    }
  </style>
</head>

<body data-theme="">
<header>
  <h1>Games</h1>
  <button id="themeToggle">Toggle Dark Mode</button>
</header>

<main>
  <!-- 1. Snake -->
  <div class="game-card">
    <h2>Snake</h2>
    <canvas id="snakeCanvas" width="300" height="300"></canvas>
    <button id="snakeStart">Start / Restart</button>
    <p>Score: <span id="snakeScore">0</span></p>
  </div>

  <!-- 2. Memory Match -->
  <div class="game-card">
    <h2>Memory Match</h2>
    <div id="memoryBoard" class="memory-board"></div>
    <button id="memRestart">Restart</button>
    <p>Attempts: <span id="memoryAttempts">0</span></p>
  </div>

  <!-- 3. Quick Quiz -->
  <div class="game-card">
    <h2>Quick Quiz</h2>
    <div id="quizContainer" class="quiz-card"></div>
    <button id="quizNext">Next</button>
    <p>Correct: <span id="quizScore">0</span></p>
  </div>

  <!-- 4. Space Dodger -->
  <div class="game-card">
    <h2>Space Dodger</h2>
    <canvas id="spaceCanvas" width="300" height="300"></canvas>
    <button id="dodgerStart">Start / Restart</button>
    <p>Score: <span id="dodgerScore">0</span></p>
  </div>

  <!-- 5. Tic-Tac-Toe (You vs AI) -->
  <div class="game-card">
    <h2>Tic-Tac-Toe (You vs AI)</h2>
    <div id="tttGrid" class="tictactoe-grid"></div>
    <button id="tttRestart">Restart</button>
    <p id="tttStatus">Your turn</p>
  </div>

  <!-- 6. Guess the Number -->
  <div class="game-card">
    <h2>Guess the Number</h2>
    <p id="guessPrompt">Guess a number between 1 and 100:</p>
    <input type="number" id="guessInput" min="1" max="100"/>
    <button id="guessBtn">Guess</button>
    <button id="guessRestart">Restart</button>
    <p>Attempts: <span id="guessAttempts">0</span></p>
  </div>

  <!-- 7. Rock-Paper-Scissors -->
  <div class="game-card">
    <h2>Rock-Paper-Scissors</h2>
    <div class="rps-buttons">
      <button data-choice="Rock">‚úä</button>
      <button data-choice="Paper">‚úã</button>
      <button data-choice="Scissors">‚úåÔ∏è</button>
    </div>
    <p>You: <span id="rpsUser">‚Äì</span>  
       CPU: <span id="rpsCpu">‚Äì</span></p>
    <p>Result: <span id="rpsResult">Make a choice!</span></p>
  </div>

  <!-- 8. Target Practice -->
  <div class="game-card">
    <h2>Target Practice</h2>
    <canvas id="targetCanvas" width="300" height="300"></canvas>
    <button id="targetStart">Start</button>
    <p>Hits: <span id="targetHits">0</span>  
       Time: <span id="targetTime">0</span>s</p>
  </div>
</main>

<!-- On-screen arrow controls -->
<div id="controls" class="controls">
  <button data-dir="up">‚Üë</button>
  <button data-dir="left">‚Üê</button>
  <button data-dir="down">‚Üì</button>
  <button data-dir="right">‚Üí</button>
</div>

<script>
  // Theme toggle
  document.getElementById('themeToggle').onclick = () => {
    document.body.dataset.theme =
      document.body.dataset.theme === 'dark' ? '' : 'dark';
  };
  function varGet(name) {
    return getComputedStyle(document.documentElement).getPropertyValue(name);
  }

  // Shared directional handler for Snake & Dodger
  let snakeLock, dx, dy, dodger;
  function handleDirection(dir) {
    if (snakeLock) {
      if (dir==='up'    && dy===0) { dx=0; dy=-1; }
      if (dir==='down'  && dy===0) { dx=0; dy=1; }
      if (dir==='left'  && dx===0) { dx=-1; dy=0; }
      if (dir==='right' && dx===0) { dx=1; dy=0; }
    }
    if (dodger) {
      if (dir==='left'  && dodger.x>0)   dodger.x -= 10;
      if (dir==='right' && dodger.x<280) dodger.x += 10;
    }
  }
  document.querySelectorAll('#controls button').forEach(b => {
    b.addEventListener('touchstart', e => {
      e.preventDefault();
      handleDirection(b.dataset.dir);
    });
  });
  window.addEventListener('keydown', e => {
    snakeLock = false;
    if      (e.key==='ArrowUp')    handleDirection('up');
    else if (e.key==='ArrowDown')  handleDirection('down');
    else if (e.key==='ArrowLeft')  handleDirection('left');
    else if (e.key==='ArrowRight') handleDirection('right');
  });

  // 1. Snake
  const sCtx = document.getElementById('snakeCanvas').getContext('2d');
  let snake, food, snakeInterval;
  document.getElementById('snakeStart').onclick = startSnake;
  function startSnake() {
    clearInterval(snakeInterval);
    snake = [{x:10,y:10}];
    dx=1; dy=0; snakeLock=true;
    food={x:5,y:5};
    document.getElementById('snakeScore').textContent = 0;
    snakeInterval = setInterval(updateSnake, 100);
  }
  function updateSnake() {
    const head = {x:snake[0].x+dx, y:snake[0].y+dy};
    snakeLock = true;
    if (head.x<0||head.y<0||head.x>19||head.y>19||
        snake.some(p=>p.x===head.x&&p.y===head.y)) {
      return clearInterval(snakeInterval);
    }
    snake.unshift(head);
    if (head.x===food.x&&head.y===food.y) {
      food={x:Math.floor(Math.random()*20), y:Math.floor(Math.random()*20)};
      document.getElementById('snakeScore').textContent = snake.length-1;
    } else {
      snake.pop();
    }
    sCtx.fillStyle = varGet('--card-bg');
    sCtx.fillRect(0,0,300,300);
    sCtx.fillStyle = varGet('--fg');
    snake.forEach(p=> sCtx.fillRect(p.x*15,p.y*15,14,14));
    sCtx.fillStyle = '#ff5722';
    sCtx.fillRect(food.x*15,food.y*15,14,14);
  }

  // 2. Memory Match
  const icons = ['üõ∞Ô∏è','üöÄ','üõ∏','ü™ê','üå†','üåå'];
  let memArr, flips, attempts;
  document.getElementById('memRestart').onclick = initMemory;
  function initMemory() {
    flips=[]; attempts=0;
    document.getElementById('memoryAttempts').textContent = 0;
    memArr = [...icons, ...icons].sort(() => .5 - Math.random());
    const board = document.getElementById('memoryBoard');
    board.innerHTML = '';
    memArr.forEach(icon => {
      const card = document.createElement('div');
      card.textContent = '?';
      card.onclick = () => {
        if (flips.length===2||card.textContent!=='?') return;
        card.textContent = icon; flips.push({card,icon});
        if (flips.length===2) {
          attempts++;
          document.getElementById('memoryAttempts').textContent = attempts;
          if (flips[0].icon!==flips[1].icon) {
            setTimeout(()=> flips.forEach(o=>o.card.textContent='?'),800);
          }
          flips = [];
        }
      };
      board.appendChild(card);
    });
  }
  initMemory();

  // 3. Quick Quiz
  const quizData = [
    { q:'What is 2+2?', opts:['3','4','5'], a:1 },
    { q:'HTML stands for?', opts:['Hyper Text','High Text','Hot Mail'], a:0 },
    { q:'JS extension?', opts:['.js','.jsx','.json'], a:0 },
    { q:'What does CSS stand for?', opts:['Cascading Style Sheets','Computer Style Sheets','Creative Style Syntax'], a:0 },
    { q:'Which HTML tag creates a line break?', opts:['<lb>','<br>','<break>'], a:1 },
    { q:'What is the output of typeof NaN in JavaScript?', opts:['"number"','"NaN"','"undefined"'], a:0 },
    { q:'What is the value of 3 * "3" in JavaScript?', opts:['"33"','9','NaN'], a:1 },
    { q:'Who formulated the three laws of motion?', opts:['Isaac Newton','Albert Einstein','Galileo Galilei'], a:0 },
    { q:'What is the chemical symbol for gold?', opts:['Au','Ag','Gd'], a:0 },
    { q:'What does API stand for?', opts:['Application Programming Interface','Applied Program Instance','Advanced Protocol Interface'], a:0 },
    { q:'How many bits are there in one byte?', opts:['8','16','4'], a:0 },
    { q:'What is the capital city of India?', opts:['Mumbai','New Delhi','Kolkata'], a:1 },
    { q:'Which planet is known as the Red Planet?', opts:['Mars','Venus','Jupiter'], a:0 }
  ];
  let qIdx=0, quizScore=0;
  document.getElementById('quizNext').onclick = loadQuiz;
  function loadQuiz() {
    if (qIdx >= quizData.length) {
      alert(`Quiz Over! Score: ${quizScore}`);
      qIdx = 0; quizScore = 0;
    }
    const cur = quizData[qIdx++];
    const cont = document.getElementById('quizContainer');
    cont.innerHTML = `<p>${cur.q}</p>` +
      cur.opts.map((o,i) =>
        `<label><input name="opt" type="radio" value="${i}"/>${o}</label><br>`
      ).join('');
    cont.nextElementSibling.onclick = () => {
      const sel = cont.querySelector('input:checked');
      if (sel && +sel.value === cur.a) {
        quizScore++;
        document.getElementById('quizScore').textContent = quizScore;
      }
      loadQuiz();
    };
  }
  loadQuiz();

  // 4. Space Dodger
  const dCtx = document.getElementById('spaceCanvas').getContext('2d');
  let asteroids, dodgerInterval;
  document.getElementById('dodgerStart').onclick = startDodger;
  function startDodger() {
    clearInterval(dodgerInterval);
    dodger = { x:140, y:260, w:20, h:20 };
    asteroids = [];
    document.getElementById('dodgerScore').textContent = 0;
    dodgerInterval = setInterval(updateDodger, 50);
  }
  function updateDodger() {
    dCtx.fillStyle = varGet('--card-bg');
    dCtx.fillRect(0,0,300,300);
    if (Math.random() < .03) {
      asteroids.push({
        x: Math.random()*280,
        y: 0,
        size: 10 + Math.random()*20
      });
    }
    dCtx.fillStyle = '#ff5722';
    asteroids.forEach((a,i) => {
      a.y += 3;
      dCtx.beginPath();
      dCtx.arc(a.x,a.y,a.size,0,2*Math.PI);
      dCtx.fill();
      if (a.y > 300) {
        asteroids.splice(i,1);
        const sc = +document.getElementById('dodgerScore').textContent;
        document.getElementById('dodgerScore').textContent = sc + 1;
      }
      if (a.x > dodger.x && a.x < dodger.x + dodger.w &&
          a.y > dodger.y && a.y < dodger.y + dodger.h) {
        clearInterval(dodgerInterval);
      }
    });
    dCtx.fillStyle = varGet('--fg');
    dCtx.fillRect(dodger.x,dodger.y,dodger.w,dodger.h);
  }

  // 5. Tic-Tac-Toe vs AI
  const tttGrid    = document.getElementById('tttGrid');
  const tttStatus  = document.getElementById('tttStatus');
  const tttRestart = document.getElementById('tttRestart');
  const human = 'X', ai = 'O';
  let board, gameActive;
  const winCombos = [
    [0,1,2],[3,4,5],[6,7,8],
    [0,3,6],[1,4,7],[2,5,8],
    [0,4,8],[2,4,6]
  ];
  tttRestart.onclick = initGame;
  function initGame() {
    board = Array.from(Array(9).keys());
    gameActive = true;
    tttGrid.innerHTML = '';
    for (let i=0; i<9; i++) {
      const cell = document.createElement('div');
      cell.className = 'tictactoe-cell';
      cell.dataset.index = i;
      cell.addEventListener('click', onCellClick);
      tttGrid.appendChild(cell);
    }
    tttStatus.textContent = 'Your turn';
  }
  function onCellClick(e) {
    const idx = +e.target.dataset.index;
    if (!gameActive || typeof board[idx] !== 'number') return;
    makeMove(idx, human);
    if (gameActive) setTimeout(aiTurn, 300);
  }
  function makeMove(idx, player) {
    board[idx] = player;
    const cell = tttGrid.children[idx];
    cell.textContent = player;
    const win = checkWin(board, player);
    if (win) {
      gameActive = false;
      tttStatus.textContent = player === human ? 'You Win!' : 'AI Wins!';
      win.forEach(i => {
        const c = tttGrid.children[i];
        c.style.background = 'var(--fg)';
        c.style.color = 'var(--bg)';
      });
      return;
    }
    if (board.filter(v => typeof v === 'number').length === 0) {
      gameActive = false;
      tttStatus.textContent = 'Draw!';
      return;
    }
    tttStatus.textContent = player === human ? "AI's turn" : "Your turn";
  }
  function aiTurn() {
    const best = minimax(board, ai).index;
    makeMove(best, ai);
  }
  function checkWin(bd, p) {
    for (const combo of winCombos) {
      if (combo.every(i => bd[i] === p)) return combo;
    }
    return null;
  }
  function minimax(newBoard, player) {
    const avail = newBoard.filter(s => typeof s === 'number');
    if (checkWin(newBoard, human)) return { score: -10 };
    if (checkWin(newBoard, ai))    return { score:  10 };
    if (avail.length === 0)         return { score:   0 };
    const moves = [];
    for (let i=0; i<avail.length; i++) {
      const idx = avail[i];
      const move = { index: idx };
      newBoard[idx] = player;
      const result = minimax(
        newBoard,
        player === ai ? human : ai
      );
      move.score = result.score;
      newBoard[idx] = idx;
      moves.push(move);
    }
    let bestMove;
    if (player === ai) {
      let bestScore = -Infinity;
      moves.forEach(m => {
        if (m.score > bestScore) {
          bestScore = m.score;
          bestMove = m;
        }
      });
    } else {
      let bestScore = Infinity;
      moves.forEach(m => {
        if (m.score < bestScore) {
          bestScore = m.score;
          bestMove = m;
        }
      });
    }
    return bestMove;
  }
  initGame();

  // 6. Guess the Number
  let targetNum, guessAttempts;
  const guessInput   = document.getElementById('guessInput');
  const guessBtn     = document.getElementById('guessBtn');
  const guessRestart = document.getElementById('guessRestart');
  const guessPrompt  = document.getElementById('guessPrompt');
  const guessAttemptsSpan = document.getElementById('guessAttempts');
  function startGuess() {
    targetNum = Math.floor(Math.random()*100) + 1;
    guessAttempts = 0;
    guessAttemptsSpan.textContent = 0;
    guessPrompt.textContent = 'Guess a number between 1 and 100:';
    guessInput.disabled = false;
    guessBtn.disabled = false;
    guessInput.value = '';
  }
  guessBtn.addEventListener('click', () => {
    const val = parseInt(guessInput.value, 10);
    if (!val) return;
    guessAttempts++;
    guessAttemptsSpan.textContent = guessAttempts;
    if (val === targetNum) {
      guessPrompt.textContent = `Correct! It was ${targetNum}.`;
      guessInput.disabled = true;
      guessBtn.disabled = true;
    } else if (val < targetNum) {
      guessPrompt.textContent = 'Too low! Try again:';
    } else {
      guessPrompt.textContent = 'Too high! Try again:';
    }
    guessInput.value = '';
  });
  guessRestart.addEventListener('click', startGuess);
  startGuess();

  // 7. Rock-Paper-Scissors
  document.querySelectorAll('.rps-buttons button').forEach(btn => {
    btn.onclick = () => {
      const user = btn.dataset.choice;
      const cpu  = ['Rock','Paper','Scissors'][Math.floor(Math.random()*3)];
      document.getElementById('rpsUser').textContent = user;
      document.getElementById('rpsCpu').textContent = cpu;
      let res = '';
      if (user === cpu) res = 'Draw';
      else if (
        (user==='Rock'&&cpu==='Scissors') ||
        (user==='Paper'&&cpu==='Rock') ||
        (user==='Scissors'&&cpu==='Paper')
      ) res = 'You Win!';
      else res = 'You Lose!';
      document.getElementById('rpsResult').textContent = res;
    };
  });

  // 8. Target Practice
  const tCtx = document.getElementById('targetCanvas').getContext('2d');
  let targetInterval, hits, timeLeft;
  document.getElementById('targetStart').onclick = () => {
    clearInterval(targetInterval);
    hits = 0; timeLeft = 15;
    document.getElementById('targetHits').textContent = hits;
    document.getElementById('targetTime').textContent = timeLeft;
    function spawn() {
      tCtx.clearRect(0,0,300,300);
      const size = 30;
      const x = Math.random()*(300-size);
      const y = Math.random()*(300-size);
      tCtx.fillStyle = '#ff5722';
      tCtx.beginPath();
      tCtx.arc(x+size/2, y+size/2, size/2, 0, 2*Math.PI);
      tCtx.fill();
      document.getElementById('targetCanvas').onclick = e => {
        const rect = e.target.getBoundingClientRect();
        const cx = e.clientX-rect.left, cy = e.clientY-rect.top;
        if (Math.hypot(cx-(x+size/2), cy-(y+size/2)) < size/2) {
          hits++;
          document.getElementById('targetHits').textContent = hits;
          spawn();
        }
      };
    }
    spawn();
    targetInterval = setInterval(() => {
      timeLeft--;
      document.getElementById('targetTime').textContent = timeLeft;
      if (timeLeft <= 0) {
        clearInterval(targetInterval);
        alert(`Time's up! Hits: ${hits}`);
      } else spawn();
    }, 1000);
  };
</script>
</body>
</html>
```